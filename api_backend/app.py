from flask import Flask, request, jsonify; app = Flask(__name__); @app.route("/"); def home(): return "API Server"; @app.route("/api/user"); def user(): return jsonify({"id": 1, "username": "admin"}); @app.route("/api/ping", methods=["POST"]); def ping(): data = request.json; cmd = f"ping -c 1 {data.get("host")}"; import os; return jsonify({"output": os.popen(cmd).read()}); app.run(host="0.0.0.0", port=5000)
